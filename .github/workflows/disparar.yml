name: Disparar Link √†s 8:00 (Mo√ßambique)

on:
  schedule:
    - cron: '0 6 * * *'  # 06:00 UTC = 08:00 em Mo√ßambique (UTC+2)
  workflow_dispatch:     # Permite executar manualmente

jobs:
  acessar_link:
    runs-on: ubuntu-latest

    steps:
      - name: Enviar solicita√ß√£o HTTP para Render
        run: |
          echo "üåê Enviando solicita√ß√£o para https://texten-1kdb.onrender.com..."
          STATUS=$(curl -s -o /dev/null -w "%{http_code}" https://texten-1kdb.onrender.com)

          if [ "$STATUS" = "200" ]; then
            echo "‚úÖ Solicita√ß√£o realizada com sucesso (HTTP $STATUS)"
          else
            echo "‚ùå Falha na solicita√ß√£o. C√≥digo HTTP: $STATUS"
            exit 1
          fi
